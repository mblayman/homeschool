{% extends "app_base.html" %}
{% load waffle_tags %}

{% block head_title %}Set completed task date for {{ student }}{% endblock %}

{% block main %}
  <h1 class="flex-grow font-extralight text-2xl text-blue-900 mb-8">
    Set completed task date for {{ student }}
  </h1>

  <form method="POST" class="w-full max-w-2xl">
    {% if course_task %}
      <div class="bg-blue-100 rounded p-2 mb-8">
        <p class="font-extralight text-base text-gray-800 mb-2">
          <strong>Task:</strong>
        </p>
        <p class="font-extralight text-base text-gray-800">
          {{ course_task.description|linebreaksbr }}
        </p>
      </div>
    {% endif %}

    {% include "forms/non_field_errors.html" %}

    {% csrf_token %}
    {% include "forms/field.html" with field=form.completed_date autofocus=True placeholder=user.get_local_today|date:"n/j/Y" %}
    <div class="md:flex md:items-center">
      <div class="md:w-1/4"></div>
      <div class="md:w-3/4 flex flex-col sm:flex-row items-center justify-end">
        {% flag combined_course_flag %}
        <a href="{% url "courses:detail" course_task.course.id %}"
          class="hover:bg-gray-200 text-blue-700 font-bold py-2 px-4 rounded focus:outline-none focus:ring">
          Cancel
        </a>
        {% else %}
        <a href="{% url "students:course" student.id course_task.course.id %}"
          class="hover:bg-gray-200 text-blue-700 font-bold py-2 px-4 rounded focus:outline-none focus:ring">
          Cancel
        </a>
        {% endflag %}
        <button class="bg-blue-700 hover:bg-blue-500 text-white font-bold py-2 px-4 ml-2 rounded focus:outline-none focus:ring" type="submit">
          Save
        </button>
      </div>
    </div>
  </form>
{% endblock %}
